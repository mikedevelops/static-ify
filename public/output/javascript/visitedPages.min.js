!function t(e,i,n){function r(o,a){if(!i[o]){if(!e[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(s)return s(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var h=i[o]={exports:{}};e[o][0].call(h.exports,function(t){var i=e[o][1][t];return r(i?i:t)},h,h.exports,t,e,i,n)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(t,e,i){"use strict";var n=t("rivets");t("es5-basic-shim"),window.jQuery;n.configure({prefix:"data-rv"}),n.adapters["."]={observe:function(t,e,i){"function"==typeof t.on&&t.on("change:"+e,i)},unobserve:function(t,e,i){"function"==typeof t.off&&t.off("change:"+e,i)},get:function(t,e){return t[e]},set:function(t,e,i){"function"==typeof t.set?t.set(e,i):t[e]=i}},n.formatters.length=function(t){return t.length},n.formatters.calculateNoOfPlaceholders=function(t,e,i){var n=[],r=i-t.length-e.length;return 0>=r?n:Array.apply(null,Array(r)).map(Number.prototype.valueOf,0)},n.formatters.reverse=function(t){return t.reverse()},n.formatters.empty=function(t){return!t},window.spacecraft=window.spacecraft||{},window.spacecraft.visitedPages=t("./api")(window.jQuery)},{"./api":8,"es5-basic-shim":3,rivets:4}],2:[function(t,e,i){function n(t,e){if("string"!=typeof t)throw new TypeError("String expected");e||(e=document);var i=/<([\w:]+)/.exec(t);if(!i)return e.createTextNode(t);t=t.replace(/^\s+|\s+$/g,"");var n=i[1];if("body"==n){var r=e.createElement("html");return r.innerHTML=t,r.removeChild(r.lastChild)}var s=o[n]||o._default,a=s[0],l=s[1],u=s[2],r=e.createElement("div");for(r.innerHTML=l+t+u;a--;)r=r.lastChild;if(r.firstChild==r.lastChild)return r.removeChild(r.firstChild);for(var h=e.createDocumentFragment();r.firstChild;)h.appendChild(r.removeChild(r.firstChild));return h}e.exports=n;var r,s=!1;"undefined"!=typeof document&&(r=document.createElement("div"),r.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',s=!r.getElementsByTagName("link").length,r=void 0);var o={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:s?[1,"X<div>","</div>"]:[0,"",""]};o.td=o.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],o.option=o.optgroup=[1,'<select multiple="multiple">',"</select>"],o.thead=o.tbody=o.colgroup=o.caption=o.tfoot=[1,"<table>","</table>"],o.polyline=o.ellipse=o.polygon=o.circle=o.text=o.line=o.path=o.rect=o.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]},{}],3:[function(t,e,i){!function(){"use strict";if(Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),i=this,n=function(){},r=function(){return i.apply(this instanceof n&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,r.prototype=new n,r}),!String.prototype.trim){var t=/^\s+|\s+$/g;String.prototype.trim=function(){return this.replace(t,"")}}var e=Object.prototype.hasOwnProperty;Object.keys||(Object.keys=function(){var t=!{toString:null}.propertyIsEnumerable("toString"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=i.length;return function(r){if("object"!=typeof r&&("function"!=typeof r||null===r))throw new TypeError("Object.keys called on non-object");var s,o,a=[];for(s in r)e.call(r,s)&&a.push(s);if(t)for(o=0;n>o;o++)e.call(r,i[o])&&a.push(i[o]);return a}}()),"function"!=typeof Object.create&&(Object.create=function(){function t(){}return function(i,n){t.prototype=i;var r=new t;if(n)for(var s in n)e.call(n,s)&&(r[s]=n[s].value);return r}}()),"function"!=typeof Array.prototype.forEach&&(Array.prototype.forEach=function(t,e){var i,n;if(null==this)throw new TypeError(" this is null or not defined");var r=Object(this),s=r.length>>>0;if("[object Function]"!={}.toString.call(t))throw new TypeError(t+" is not a function");for(e&&(i=e),n=0;s>n;){var o;n in r&&(o=r[n],t.call(i,o,n,r)),n++}}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){if(void 0===this||null===this)throw new TypeError;var e=Object(this),i=e.length>>>0;if(0===i)return-1;var n=0;if(arguments.length>0&&(n=Number(arguments[1]),n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=i)return-1;for(var r=n>=0?n:Math.max(i-Math.abs(n),0);i>r;r++)if(r in e&&e[r]===t)return r;return-1}),Array.prototype.map||(Array.prototype.map=function(t,e){var i,n,r;if(null==this)throw new TypeError(" this is null or not defined");var s=Object(this),o=s.length>>>0;if("[object Function]"!={}.toString.call(t))throw new TypeError(t+" is not a function");for(e&&(i=e),n=new Array(o),r=0;o>r;){var a,l,u=r+"";r in s&&(a=s[u],l=t.call(i,a,r,s),n[u]=l),r++}return n}),Array.prototype.filter||(Array.prototype.filter=function(t){if(void 0===this||null===this)throw new TypeError;var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var n=[],r=arguments[1],s=0;i>s;s++)if(s in e){var o=e[s];t.call(r,o,s,e)&&n.push(o)}return n}),Array.prototype.some||(Array.prototype.some=function(t){if(void 0===this||null===this)throw new TypeError;var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var n=arguments[1],r=0;i>r;r++)if(r in e&&t.call(n,e[r],r,e))return!0;return!1}),Array.prototype.every||(Array.prototype.every=function(t){if(void 0===this||null===this)throw new TypeError;var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var n=arguments[1],r=0;i>r;r++)if(r in e&&!t.call(n,e[r],r,e))return!1;return!0}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(t){if(void 0===this||null===this)throw new TypeError;var e=Object(this),i=e.length>>>0;if(0===i)return-1;var n=i;arguments.length>1&&(n=Number(arguments[1]),n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))));for(var r=n>=0?Math.min(n,i-1):i-Math.abs(n);r>=0;r--)if(r in e&&e[r]===t)return r;return-1}),Array.prototype.reduce||(Array.prototype.reduce=function(t){var e,i,n=this.length;if("function"!=typeof t)throw new TypeError("First argument is not callable");if((0==n||null===n)&&arguments.length<=1)throw new TypeError("Array length is 0 and no second argument");for(arguments.length<=1?(i=this[0],e=1):i=arguments[1],e=e||0;n>e;++e)e in this&&(i=t.call(void 0,i,this[e],e,this));return i}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(t){if(void 0===this||null===this)throw new TypeError;var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw new TypeError;if(0===i&&1===arguments.length)throw new TypeError;var n,r=i-1;if(arguments.length>=2)n=arguments[1];else for(;;){if(r in this){n=this[r--];break}if(--r<0)throw new TypeError}for(;r>=0;)r in e&&(n=t.call(void 0,n,e[r],r,e)),r--;return n}),Array.isArray||(Array.isArray=function(t){return"[object Array]"==Object.prototype.toString.call(t)})}()},{}],4:[function(t,e,i){(function(){var i,n,r,s,o=function(t,e){return function(){return t.apply(e,arguments)}},a=[].slice,l={}.hasOwnProperty,u=function(t,e){function i(){this.constructor=t}for(var n in e)l.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},h=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1};i={options:["prefix","templateDelimiters","rootInterface","preloadData","handler"],extensions:["binders","formatters","components","adapters"],"public":{binders:{},components:{},formatters:{},adapters:{},prefix:"rv",templateDelimiters:["{","}"],rootInterface:".",preloadData:!0,handler:function(t,e,i){return this.call(t,e,i.view.models)},configure:function(t){var e,n,r,s;null==t&&(t={});for(r in t)if(s=t[r],"binders"===r||"components"===r||"formatters"===r||"adapters"===r)for(n in s)e=s[n],i[r][n]=e;else i["public"][r]=s},bind:function(t,e,n){var r;return null==e&&(e={}),null==n&&(n={}),r=new i.View(t,e,n),r.bind(),r}}},window.jQuery||window.$?(s="on"in jQuery.prototype?["on","off"]:["bind","unbind"],n=s[0],r=s[1],i.Util={bindEvent:function(t,e,i){return jQuery(t)[n](e,i)},unbindEvent:function(t,e,i){return jQuery(t)[r](e,i)},getInputValue:function(t){var e;return e=jQuery(t),"checkbox"===e.attr("type")?e.is(":checked"):e.val()}}):i.Util={bindEvent:function(){return"addEventListener"in window?function(t,e,i){return t.addEventListener(e,i,!1)}:function(t,e,i){return t.attachEvent("on"+e,i)}}(),unbindEvent:function(){return"removeEventListener"in window?function(t,e,i){return t.removeEventListener(e,i,!1)}:function(t,e,i){return t.detachEvent("on"+e,i)}}(),getInputValue:function(t){var e,i,n,r;if("checkbox"===t.type)return t.checked;if("select-multiple"===t.type){for(r=[],i=0,n=t.length;n>i;i++)e=t[i],e.selected&&r.push(e.value);return r}return t.value}},i.TypeParser=function(){function t(){}return t.types={primitive:0,keypath:1},t.parse=function(t){return/^'.*'$|^".*"$/.test(t)?{type:this.types.primitive,value:t.slice(1,-1)}:"true"===t?{type:this.types.primitive,value:!0}:"false"===t?{type:this.types.primitive,value:!1}:"null"===t?{type:this.types.primitive,value:null}:"undefined"===t?{type:this.types.primitive,value:void 0}:isNaN(Number(t))===!1?{type:this.types.primitive,value:Number(t)}:{type:this.types.keypath,value:t}},t}(),i.TextTemplateParser=function(){function t(){}return t.types={text:0,binding:1},t.parse=function(t,e){var i,n,r,s,o,a,l;for(a=[],s=t.length,i=0,n=0;s>n;){if(i=t.indexOf(e[0],n),0>i){a.push({type:this.types.text,value:t.slice(n)});break}if(i>0&&i>n&&a.push({type:this.types.text,value:t.slice(n,i)}),n=i+e[0].length,i=t.indexOf(e[1],n),0>i){o=t.slice(n-e[1].length),r=a[a.length-1],(null!=r?r.type:void 0)===this.types.text?r.value+=o:a.push({type:this.types.text,value:o});break}l=t.slice(n,i).trim(),a.push({type:this.types.binding,value:l}),n=i+e[1].length}return a},t}(),i.View=function(){function t(t,e,n){var r,s,a,l,u,h,p,c,d,f,v,g,b;for(this.els=t,this.models=e,null==n&&(n={}),this.update=o(this.update,this),this.publish=o(this.publish,this),this.sync=o(this.sync,this),this.unbind=o(this.unbind,this),this.bind=o(this.bind,this),this.select=o(this.select,this),this.build=o(this.build,this),this.componentRegExp=o(this.componentRegExp,this),this.bindingRegExp=o(this.bindingRegExp,this),this.options=o(this.options,this),this.els.jquery||this.els instanceof Array||(this.els=[this.els]),d=i.extensions,u=0,p=d.length;p>u;u++){if(s=d[u],this[s]={},n[s]){f=n[s];for(r in f)a=f[r],this[s][r]=a}v=i["public"][s];for(r in v)a=v[r],null==(l=this[s])[r]&&(l[r]=a)}for(g=i.options,h=0,c=g.length;c>h;h++)s=g[h],this[s]=null!=(b=n[s])?b:i["public"][s];this.build()}return t.prototype.options=function(){var t,e,n,r,s;for(e={},s=i.extensions.concat(i.options),n=0,r=s.length;r>n;n++)t=s[n],e[t]=this[t];return e},t.prototype.bindingRegExp=function(){return new RegExp("^"+this.prefix+"-")},t.prototype.componentRegExp=function(){return new RegExp("^"+this.prefix.toUpperCase()+"-")},t.prototype.build=function(){var t,e,n,r,s,o,a,l;for(this.bindings=[],t=this.bindingRegExp(),n=this.componentRegExp(),e=function(t){return function(e,n,r,s){var o,a,l,u,h,p,c;return h={},c=function(){var t,e,i,n;for(i=s.split("|"),n=[],t=0,e=i.length;e>t;t++)p=i[t],n.push(p.trim());return n}(),o=function(){var t,e,i,n;for(i=c.shift().split("<"),n=[],t=0,e=i.length;e>t;t++)a=i[t],n.push(a.trim());return n}(),u=o.shift(),h.formatters=c,(l=o.shift())&&(h.dependencies=l.split(/\s+/)),t.bindings.push(new i[e](t,n,r,u,h))}}(this),s=function(r){return function(o){var a,l,u,h,p,c,d,f,v,g,b,y,m,w,_,k,x,E,O,T,j,N,A,P,C,S,V,$;if(3===o.nodeType){if(v=i.TextTemplateParser,(c=r.templateDelimiters)&&(m=v.parse(o.data,c)).length&&(1!==m.length||m[0].type!==v.types.text)){for(k=0,T=m.length;T>k;k++)y=m[k],b=document.createTextNode(y.value),o.parentNode.insertBefore(b,o),1===y.type&&e("TextBinding",b,null,y.value);o.parentNode.removeChild(o)}}else if(1===o.nodeType)if(n.test(o.nodeName))w=o.nodeName.replace(n,"").toLowerCase(),r.bindings.push(new i.ComponentBinding(r,o,w));else{for(h="SCRIPT"===o.nodeName||"STYLE"===o.nodeName,P=o.attributes,x=0,j=P.length;j>x;x++)if(a=P[x],t.test(a.name)){if(w=a.name.replace(t,""),!(u=r.binders[w])){C=r.binders;for(d in C)_=C[d],"*"!==d&&-1!==d.indexOf("*")&&(g=new RegExp("^"+d.replace(/\*/g,".+")+"$"),g.test(w)&&(u=_))}u||(u=r.binders["*"]),u.block&&(h=!0,l=[a])}for(S=l||o.attributes,E=0,N=S.length;N>E;E++)a=S[E],t.test(a.name)&&(w=a.name.replace(t,""),e("Binding",o,w,a.value))}if(!h){for(V=function(){var t,e,i,n;for(i=o.childNodes,n=[],e=0,t=i.length;t>e;e++)f=i[e],n.push(f);return n}(),$=[],O=0,A=V.length;A>O;O++)p=V[O],$.push(s(p));return $}}}(this),l=this.els,o=0,a=l.length;a>o;o++)r=l[o],s(r);this.bindings.sort(function(t,e){var i,n;return((null!=(i=e.binder)?i.priority:void 0)||0)-((null!=(n=t.binder)?n.priority:void 0)||0)})},t.prototype.select=function(t){var e,i,n,r,s;for(r=this.bindings,s=[],i=0,n=r.length;n>i;i++)e=r[i],t(e)&&s.push(e);return s},t.prototype.bind=function(){var t,e,i,n,r;for(n=this.bindings,r=[],e=0,i=n.length;i>e;e++)t=n[e],r.push(t.bind());return r},t.prototype.unbind=function(){var t,e,i,n,r;for(n=this.bindings,r=[],e=0,i=n.length;i>e;e++)t=n[e],r.push(t.unbind());return r},t.prototype.sync=function(){var t,e,i,n,r;for(n=this.bindings,r=[],e=0,i=n.length;i>e;e++)t=n[e],r.push(t.sync());return r},t.prototype.publish=function(){var t,e,i,n,r;for(n=this.select(function(t){return t.binder.publishes}),r=[],e=0,i=n.length;i>e;e++)t=n[e],r.push(t.publish());return r},t.prototype.update=function(t){var e,i,n,r,s,o,a;null==t&&(t={});for(i in t)n=t[i],this.models[i]=n;for(o=this.bindings,a=[],r=0,s=o.length;s>r;r++)e=o[r],a.push(e.update(t));return a},t}(),i.Binding=function(){function t(t,e,i,n,r){this.view=t,this.el=e,this.type=i,this.keypath=n,this.options=null!=r?r:{},this.getValue=o(this.getValue,this),this.update=o(this.update,this),this.unbind=o(this.unbind,this),this.bind=o(this.bind,this),this.publish=o(this.publish,this),this.sync=o(this.sync,this),this.set=o(this.set,this),this.eventHandler=o(this.eventHandler,this),this.formattedValue=o(this.formattedValue,this),this.parseTarget=o(this.parseTarget,this),this.observe=o(this.observe,this),this.setBinder=o(this.setBinder,this),this.formatters=this.options.formatters||[],this.dependencies=[],this.formatterObservers={},this.model=void 0,this.setBinder()}return t.prototype.setBinder=function(){var t,e,i,n;if(!(this.binder=this.view.binders[this.type])){n=this.view.binders;for(t in n)i=n[t],"*"!==t&&-1!==t.indexOf("*")&&(e=new RegExp("^"+t.replace(/\*/g,".+")+"$"),e.test(this.type)&&(this.binder=i,this.args=new RegExp("^"+t.replace(/\*/g,"(.+)")+"$").exec(this.type),this.args.shift()))}return this.binder||(this.binder=this.view.binders["*"]),this.binder instanceof Function?this.binder={routine:this.binder}:void 0},t.prototype.observe=function(t,e,n){return i.sightglass(t,e,n,{root:this.view.rootInterface,adapters:this.view.adapters})},t.prototype.parseTarget=function(){var t;return t=i.TypeParser.parse(this.keypath),0===t.type?this.value=t.value:(this.observer=this.observe(this.view.models,this.keypath,this.sync),this.model=this.observer.target)},t.prototype.formattedValue=function(t){var e,n,r,s,o,l,u,h,p,c,d,f,v,g;for(g=this.formatters,s=c=0,f=g.length;f>c;s=++c){for(o=g[s],r=o.match(/[^\s']+|'([^']|'[^\s])*'|"([^"]|"[^\s])*"/g),l=r.shift(),o=this.view.formatters[l],r=function(){var t,e,s;for(s=[],t=0,e=r.length;e>t;t++)n=r[t],s.push(i.TypeParser.parse(n));return s}(),h=[],e=d=0,v=r.length;v>d;e=++d)n=r[e],h.push(0===n.type?n.value:((p=this.formatterObservers)[s]||(p[s]={}),(u=this.formatterObservers[s][e])?void 0:(u=this.observe(this.view.models,n.value,this.sync),this.formatterObservers[s][e]=u),u.value()));(null!=o?o.read:void 0)instanceof Function?t=o.read.apply(o,[t].concat(a.call(h))):o instanceof Function&&(t=o.apply(null,[t].concat(a.call(h))))}return t},t.prototype.eventHandler=function(t){var e,i;return i=(e=this).view.handler,function(n){return i.call(t,this,n,e)}},t.prototype.set=function(t){var e;return t=t instanceof Function&&!this.binder["function"]?this.formattedValue(t.call(this.model)):this.formattedValue(t),null!=(e=this.binder.routine)?e.call(this,this.el,t):void 0},t.prototype.sync=function(){var t,e;return this.set(function(){var i,n,r,s,o,a,l;if(this.observer){if(this.model!==this.observer.target){for(o=this.dependencies,i=0,r=o.length;r>i;i++)e=o[i],e.unobserve();if(this.dependencies=[],null!=(this.model=this.observer.target)&&(null!=(a=this.options.dependencies)?a.length:void 0))for(l=this.options.dependencies,n=0,s=l.length;s>n;n++)t=l[n],e=this.observe(this.model,t,this.sync),this.dependencies.push(e)}return this.observer.value()}return this.value}.call(this))},t.prototype.publish=function(){var t,e,i,n,r,s,o,l,u;if(this.observer){for(n=this.getValue(this.el),o=this.formatters.slice(0).reverse(),r=0,s=o.length;s>r;r++)e=o[r],t=e.split(/\s+/),i=t.shift(),(null!=(l=this.view.formatters[i])?l.publish:void 0)&&(n=(u=this.view.formatters[i]).publish.apply(u,[n].concat(a.call(t))));return this.observer.setValue(n)}},t.prototype.bind=function(){var t,e,i,n,r,s,o;if(this.parseTarget(),null!=(r=this.binder.bind)&&r.call(this,this.el),null!=this.model&&(null!=(s=this.options.dependencies)?s.length:void 0))for(o=this.options.dependencies,i=0,n=o.length;n>i;i++)t=o[i],e=this.observe(this.model,t,this.sync),this.dependencies.push(e);return this.view.preloadData?this.sync():void 0},t.prototype.unbind=function(){var t,e,i,n,r,s,o,a,l,u;for(null!=(o=this.binder.unbind)&&o.call(this,this.el),null!=(a=this.observer)&&a.unobserve(),l=this.dependencies,r=0,s=l.length;s>r;r++)n=l[r],n.unobserve();this.dependencies=[],u=this.formatterObservers;for(i in u){e=u[i];for(t in e)n=e[t],n.unobserve()}return this.formatterObservers={}},t.prototype.update=function(t){var e,i;return null==t&&(t={}),this.model=null!=(e=this.observer)?e.target:void 0,this.unbind(),null!=(i=this.binder.update)&&i.call(this,t),this.bind()},t.prototype.getValue=function(t){return this.binder&&null!=this.binder.getValue?this.binder.getValue.call(this,t):i.Util.getInputValue(t)},t}(),i.ComponentBinding=function(t){function e(t,e,i){var n,r,s,a,l;for(this.view=t,this.el=e,this.type=i,this.unbind=o(this.unbind,this),this.bind=o(this.bind,this),this.update=o(this.update,this),this.locals=o(this.locals,this),this.component=this.view.components[this.type],this.attributes={},this.inflections={},a=this.el.attributes||[],r=0,s=a.length;s>r;r++)n=a[r],l=n.name,h.call(this.component.attributes,l)>=0?this.attributes[n.name]=n.value:this.inflections[n.name]=n.value}return u(e,t),e.prototype.sync=function(){},e.prototype.locals=function(t){var e,i,n,r,s,o,a,l,u;null==t&&(t=this.view.models),s={},l=this.inflections;for(i in l)for(e=l[i],u=e.split("."),o=0,a=u.length;a>o;o++)r=u[o],s[i]=(s[i]||t)[r];for(i in t)n=t[i],null==s[i]&&(s[i]=n);return s},e.prototype.update=function(t){var e;return null!=(e=this.componentView)?e.update(this.locals(t)):void 0},e.prototype.bind=function(){var t,e;return null!=this.componentView?null!=(e=this.componentView)?e.bind():void 0:(t=this.component.build.call(this.attributes),(this.componentView=new i.View(t,this.locals(),this.view.options)).bind(),this.el.parentNode.replaceChild(t,this.el))},e.prototype.unbind=function(){var t;return null!=(t=this.componentView)?t.unbind():void 0},e}(i.Binding),i.TextBinding=function(t){function e(t,e,i,n,r){this.view=t,this.el=e,this.type=i,this.keypath=n,this.options=null!=r?r:{},this.sync=o(this.sync,this),this.formatters=this.options.formatters||[],this.dependencies=[],this.formatterObservers={}}return u(e,t),e.prototype.binder={routine:function(t,e){return t.data=null!=e?e:""}},e.prototype.sync=function(){return e.__super__.sync.apply(this,arguments)},e}(i.Binding),i["public"].binders.text=function(t,e){return null!=t.textContent?t.textContent=null!=e?e:"":t.innerText=null!=e?e:""},i["public"].binders.html=function(t,e){return t.innerHTML=null!=e?e:""},i["public"].binders.show=function(t,e){return t.style.display=e?"":"none"},i["public"].binders.hide=function(t,e){return t.style.display=e?"none":""},i["public"].binders.enabled=function(t,e){return t.disabled=!e},i["public"].binders.disabled=function(t,e){return t.disabled=!!e},i["public"].binders.checked={publishes:!0,priority:2e3,bind:function(t){return i.Util.bindEvent(t,"change",this.publish)},unbind:function(t){return i.Util.unbindEvent(t,"change",this.publish)},routine:function(t,e){var i;return"radio"===t.type?t.checked=(null!=(i=t.value)?i.toString():void 0)===(null!=e?e.toString():void 0):t.checked=!!e}},i["public"].binders.unchecked={publishes:!0,priority:2e3,bind:function(t){return i.Util.bindEvent(t,"change",this.publish)},unbind:function(t){return i.Util.unbindEvent(t,"change",this.publish)},routine:function(t,e){var i;return"radio"===t.type?t.checked=(null!=(i=t.value)?i.toString():void 0)!==(null!=e?e.toString():void 0):t.checked=!e}},i["public"].binders.value={publishes:!0,priority:3e3,bind:function(t){return"INPUT"!==t.tagName||"radio"!==t.type?(this.event="SELECT"===t.tagName?"change":"input",i.Util.bindEvent(t,this.event,this.publish)):void 0},unbind:function(t){return"INPUT"!==t.tagName||"radio"!==t.type?i.Util.unbindEvent(t,this.event,this.publish):void 0},routine:function(t,e){var i,n,r,s,o,a,l;if("INPUT"===t.tagName&&"radio"===t.type)return t.setAttribute("value",e);if(null!=window.jQuery){if(t=jQuery(t),(null!=e?e.toString():void 0)!==(null!=(s=t.val())?s.toString():void 0))return t.val(null!=e?e:"")}else if("select-multiple"===t.type){if(null!=e){for(l=[],n=0,r=t.length;r>n;n++)i=t[n],l.push(i.selected=(o=i.value,h.call(e,o)>=0));return l}}else if((null!=e?e.toString():void 0)!==(null!=(a=t.value)?a.toString():void 0))return t.value=null!=e?e:""}},i["public"].binders["if"]={block:!0,priority:4e3,bind:function(t){var e,i;return null==this.marker?(e=[this.view.prefix,this.type].join("-").replace("--","-"),i=t.getAttribute(e),this.marker=document.createComment(" rivets: "+this.type+" "+i+" "),this.bound=!1,t.removeAttribute(e),t.parentNode.insertBefore(this.marker,t),t.parentNode.removeChild(t)):void 0},unbind:function(){var t;return null!=(t=this.nested)?t.unbind():void 0},routine:function(t,e){var n,r,s,o;if(!!e==!this.bound){if(e){s={},o=this.view.models;for(n in o)r=o[n],s[n]=r;return(this.nested||(this.nested=new i.View(t,s,this.view.options()))).bind(),this.marker.parentNode.insertBefore(t,this.marker.nextSibling),this.bound=!0}return t.parentNode.removeChild(t),this.nested.unbind(),this.bound=!1}},update:function(t){var e;return null!=(e=this.nested)?e.update(t):void 0}},i["public"].binders.unless={block:!0,priority:4e3,bind:function(t){return i["public"].binders["if"].bind.call(this,t)},unbind:function(){return i["public"].binders["if"].unbind.call(this)},routine:function(t,e){return i["public"].binders["if"].routine.call(this,t,!e)},update:function(t){return i["public"].binders["if"].update.call(this,t)}},i["public"].binders["on-*"]={"function":!0,priority:1e3,unbind:function(t){return this.handler?i.Util.unbindEvent(t,this.args[0],this.handler):void 0},routine:function(t,e){return this.handler&&i.Util.unbindEvent(t,this.args[0],this.handler),i.Util.bindEvent(t,this.args[0],this.handler=this.eventHandler(e))}},i["public"].binders["each-*"]={block:!0,priority:4e3,bind:function(t){var e,i,n,r,s;if(null==this.marker)e=[this.view.prefix,this.type].join("-").replace("--","-"),this.marker=document.createComment(" rivets: "+this.type+" "),this.iterated=[],t.removeAttribute(e),t.parentNode.insertBefore(this.marker,t),t.parentNode.removeChild(t);else for(s=this.iterated,n=0,r=s.length;r>n;n++)i=s[n],i.bind()},unbind:function(t){var e,i,n,r,s;if(null!=this.iterated){for(r=this.iterated,s=[],i=0,n=r.length;n>i;i++)e=r[i],s.push(e.unbind());return s}},routine:function(t,e){var n,r,s,o,a,l,u,h,p,c,d,f,v,g,b,y,m,w,_,k,x;if(u=this.args[0],e=e||[],this.iterated.length>e.length)for(w=Array(this.iterated.length-e.length),f=0,b=w.length;b>f;f++)s=w[f],d=this.iterated.pop(),d.unbind(),this.marker.parentNode.removeChild(d.els[0]);for(o=v=0,y=e.length;y>v;o=++v)if(l=e[o],r={index:o},r[u]=l,null==this.iterated[o]){_=this.view.models;for(a in _)l=_[a],null==r[a]&&(r[a]=l);p=this.iterated.length?this.iterated[this.iterated.length-1].els[0]:this.marker,h=this.view.options(),h.preloadData=!0,c=t.cloneNode(!0),d=new i.View(c,r,h),d.bind(),this.iterated.push(d),this.marker.parentNode.insertBefore(c,p.nextSibling)}else this.iterated[o].models[u]!==l&&this.iterated[o].update(r);if("OPTION"===t.nodeName){for(k=this.view.bindings,x=[],g=0,m=k.length;m>g;g++)n=k[g],n.el===this.marker.parentNode&&"value"===n.type?x.push(n.sync()):x.push(void 0);return x}},update:function(t){var e,i,n,r,s,o,a,l;e={};for(i in t)n=t[i],i!==this.args[0]&&(e[i]=n);for(a=this.iterated,l=[],s=0,o=a.length;o>s;s++)r=a[s],l.push(r.update(e));return l}},i["public"].binders["class-*"]=function(t,e){var i;return i=" "+t.className+" ",!e==(-1!==i.indexOf(" "+this.args[0]+" "))?t.className=e?""+t.className+" "+this.args[0]:i.replace(" "+this.args[0]+" "," ").trim():void 0},i["public"].binders["*"]=function(t,e){return null!=e?t.setAttribute(this.type,e):t.removeAttribute(this.type)},i["public"].adapters["."]={id:"_rv",counter:0,weakmap:{},weakReference:function(t){var e,i,n;return t.hasOwnProperty(this.id)||(e=this.counter++,Object.defineProperty(t,this.id,{value:e})),(i=this.weakmap)[n=t[this.id]]||(i[n]={callbacks:{}})},cleanupWeakReference:function(t,e){return Object.keys(t.callbacks).length||t.pointers&&Object.keys(t.pointers).length?void 0:delete this.weakmap[e]},stubFunction:function(t,e){var i,n,r;return n=t[e],i=this.weakReference(t),r=this.weakmap,t[e]=function(){var e,s,o,a,l,u,h,p,c,d;a=n.apply(t,arguments),h=i.pointers;for(o in h)for(s=h[o],d=null!=(p=null!=(c=r[o])?c.callbacks[s]:void 0)?p:[],l=0,u=d.length;u>l;l++)(e=d[l])();return a}},observeMutations:function(t,e,i){var n,r,s,o,a,l;if(Array.isArray(t)){if(s=this.weakReference(t),null==s.pointers)for(s.pointers={},r=["push","pop","shift","unshift","sort","reverse","splice"],a=0,l=r.length;l>a;a++)n=r[a],this.stubFunction(t,n);if(null==(o=s.pointers)[e]&&(o[e]=[]),h.call(s.pointers[e],i)<0)return s.pointers[e].push(i)}},unobserveMutations:function(t,e,i){var n,r,s;return Array.isArray(t)&&null!=t[this.id]?(r=this.weakReference(t),s=r.pointers[e],(n=s.indexOf(i))>=0&&s.splice(n,1),s.length||delete r.pointers[e],this.cleanupWeakReference(r,t[this.id])):void 0},observe:function(t,e,i){var n,r;return n=this.weakReference(t).callbacks,null==n[e]&&(n[e]=[],r=t[e],Object.defineProperty(t,e,{enumerable:!0,get:function(){return r},set:function(s){return function(o){var a,l,u;if(o!==r){if(s.unobserveMutations(r,t[s.id],e),r=o,n[e])for(u=n[e].slice(),a=0,l=u.length;l>a;a++)i=u[a],h.call(n[e],i)>=0&&i();return s.observeMutations(o,t[s.id],e)}}}(this)})),h.call(n[e],i)<0&&n[e].push(i),this.observeMutations(t[e],t[this.id],e)},unobserve:function(t,e,i){var n,r,s;return s=this.weakmap[t[this.id]],n=s.callbacks[e],(r=n.indexOf(i))>=0&&(n.splice(r,1),n.length||delete s.callbacks[e]),this.unobserveMutations(t[e],t[this.id],e),this.cleanupWeakReference(s,t[this.id])},get:function(t,e){return t[e]},set:function(t,e,i){return t[e]=i}},i.factory=function(t){return i.sightglass=t,i["public"]._=i,i["public"]},"object"==typeof("undefined"!=typeof e&&null!==e?e.exports:void 0)?e.exports=i.factory(t("sightglass")):"function"==typeof define&&define.amd?define(["sightglass"],function(t){return this.rivets=i.factory(t)}):this.rivets=i.factory(sightglass)}).call(this)},{sightglass:5}],5:[function(t,e,i){(function(){function t(t,e,n,r){return new i(t,e,n,r)}function i(t,e,i,r){this.options=r||{},this.options.adapters=this.options.adapters||{},this.obj=t,this.keypath=e,this.callback=i,this.objectPath=[],this.update=this.update.bind(this),this.parse(),n(this.target=this.realize())&&this.set(!0,this.key,this.target,this.callback)}function n(t){return"object"==typeof t&&null!==t}function r(t){throw new Error("[sightglass] "+t)}t.adapters={},i.tokenize=function(t,e,i){var n,r,s=[],o={i:i,path:""};for(n=0;n<t.length;n++)r=t.charAt(n),~e.indexOf(r)?(s.push(o),o={i:r,path:""}):o.path+=r;return s.push(o),s},i.prototype.parse=function(){var e,n,s=this.interfaces();s.length||r("Must define at least one adapter interface."),~s.indexOf(this.keypath[0])?(e=this.keypath[0],n=this.keypath.substr(1)):("undefined"==typeof(e=this.options.root||t.root)&&r("Must define a default root adapter."),n=this.keypath),this.tokens=i.tokenize(n,s,e),this.key=this.tokens.pop()},i.prototype.realize=function(){var t,e=this.obj,i=!1;return this.tokens.forEach(function(r,s){n(e)?("undefined"!=typeof this.objectPath[s]?e!==(t=this.objectPath[s])&&(this.set(!1,r,t,this.update),this.set(!0,r,e,this.update),this.objectPath[s]=e):(this.set(!0,r,e,this.update),this.objectPath[s]=e),e=this.get(r,e)):(i===!1&&(i=s),(t=this.objectPath[s])&&this.set(!1,r,t,this.update))},this),i!==!1&&this.objectPath.splice(i),e},i.prototype.update=function(){var t,e;(t=this.realize())!==this.target&&(n(this.target)&&this.set(!1,this.key,this.target,this.callback),n(t)&&this.set(!0,this.key,t,this.callback),e=this.value(),this.target=t,this.value()!==e&&this.callback())},i.prototype.value=function(){return n(this.target)?this.get(this.key,this.target):void 0},i.prototype.setValue=function(t){n(this.target)&&this.adapter(this.key).set(this.target,this.key.path,t)},i.prototype.get=function(t,e){return this.adapter(t).get(e,t.path)},i.prototype.set=function(t,e,i,n){var r=t?"observe":"unobserve";this.adapter(e)[r](i,e.path,n)},i.prototype.interfaces=function(){var e=Object.keys(this.options.adapters);return Object.keys(t.adapters).forEach(function(t){~e.indexOf(t)||e.push(t)}),e},i.prototype.adapter=function(e){return this.options.adapters[e.i]||t.adapters[e.i]},i.prototype.unobserve=function(){var t;this.tokens.forEach(function(e,i){(t=this.objectPath[i])&&this.set(!1,e,t,this.update)},this),n(this.target)&&this.set(!1,this.key,this.target,this.callback)},"undefined"!=typeof e&&e.exports?e.exports=t:"function"==typeof define&&define.amd?define([],function(){return this.sightglass=t}):this.sightglass=t}).call(this)},{}],6:[function(t,e,i){(function(t){"use strict";!function(t,n){"function"==typeof define&&define.amd?define([],n):"object"==typeof i?e.exports=n():t.store=n()}(this,function(){function e(){try{return o in r&&r[o]}catch(t){return!1}}var i,n={},r="undefined"!=typeof window?window:t,s=r.document,o="localStorage",a="script";if(n.disabled=!1,n.version="1.3.20",n.set=function(t,e){},n.get=function(t,e){},n.has=function(t){return void 0!==n.get(t)},n.remove=function(t){},n.clear=function(){},n.transact=function(t,e,i){null==i&&(i=e,e=null),null==e&&(e={});var r=n.get(t,e);i(r),n.set(t,r)},n.getAll=function(){},n.forEach=function(){},n.serialize=function(t){return JSON.stringify(t)},n.deserialize=function(t){if("string"==typeof t)try{return JSON.parse(t)}catch(e){return t||void 0}},e())i=r[o],n.set=function(t,e){return void 0===e?n.remove(t):(i.setItem(t,n.serialize(e)),e)},n.get=function(t,e){var r=n.deserialize(i.getItem(t));return void 0===r?e:r},n.remove=function(t){i.removeItem(t)},n.clear=function(){i.clear()},n.getAll=function(){var t={};return n.forEach(function(e,i){t[e]=i}),t},n.forEach=function(t){for(var e=0;e<i.length;e++){var r=i.key(e);t(r,n.get(r))}};else if(s&&s.documentElement.addBehavior){var l,u;try{u=new ActiveXObject("htmlfile"),u.open(),u.write("<"+a+">document.w=window</"+a+'><iframe src="/favicon.ico"></iframe>'),u.close(),l=u.w.frames[0].document,i=l.createElement("div")}catch(h){i=s.createElement("div"),l=s.body}var p=function(t){return function(){var e=Array.prototype.slice.call(arguments,0);e.unshift(i),l.appendChild(i),i.addBehavior("#default#userData"),i.load(o);var r=t.apply(n,e);return l.removeChild(i),r}},c=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),d=function(t){return t.replace(/^d/,"___$&").replace(c,"___")};n.set=p(function(t,e,i){return e=d(e),void 0===i?n.remove(e):(t.setAttribute(e,n.serialize(i)),t.save(o),i)}),n.get=p(function(t,e,i){e=d(e);var r=n.deserialize(t.getAttribute(e));return void 0===r?i:r}),n.remove=p(function(t,e){e=d(e),t.removeAttribute(e),t.save(o)}),n.clear=p(function(t){var e=t.XMLDocument.documentElement.attributes;t.load(o);for(var i=e.length-1;i>=0;i--)t.removeAttribute(e[i].name);t.save(o)}),n.getAll=function(t){var e={};return n.forEach(function(t,i){e[t]=i}),e},n.forEach=p(function(t,e){for(var i,r=t.XMLDocument.documentElement.attributes,s=0;i=r[s];++s)e(i.name,n.deserialize(t.getAttribute(i.name)))})}try{var f="__storejs__";n.set(f,f),n.get(f)!=f&&(n.disabled=!0),n.remove(f)}catch(h){n.disabled=!0}return n.enabled=!n.disabled,n})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(t,e,i){function n(){this.pages=[],this.pinned=[],this.retrieveFromStorage(),window.addEventListener&&window.addEventListener("storage",this.onStorage.bind(this),!1)}var r=t("store");t("es5-basic-shim");n.prototype.findItem=function(t,e){if(void 0!==this[t])for(var i=0;i<this[t].length;i++)if(this[t][i].url===e)return i;return-1},n.prototype.set=function(t,e,i){void 0!==this[t]&&(void 0===i?this[t]=e:this[t][i]=e,this.saveToStorage())},n.prototype.add=function(t,e){var i=this.findItem(t,e.url);if("pinned"==t){if(-1!==i)return void this.set("pinned",e,i);this.pinned.unshift(e)}else-1!==i&&this.pages.splice(i,1),this.pages.unshift(e);if(this.pages.length+this.pinned.length>this.config.max_pages){var n=this.pages.length+this.pinned.length-this.config.max_pages;this.pages.splice(-1*n,n)}this.saveToStorage()},n.prototype.remove=function(t,e){void 0!==this[t]&&(this[t].splice(e,1),this.saveToStorage())},n.prototype.exists=function(t,e){return this.findItem(t,e.url)},n.prototype.retrieveFromStorage=function(){var t=r.get("spacecraft.history.pages"),e=r.get("spacecraft.history.pinned");void 0!==t&&(this.pages=t),void 0!==e&&(this.pinned=e)},n.prototype.clearStorage=function(){r.remove("spacecraft.history.pages"),r.remove("spacecraft.history.pinned")},n.prototype.saveToStorage=function(){r.set("spacecraft.history.pages",this.pages),r.set("spacecraft.history.pinned",this.pinned)},n.prototype.onStorage=function(t){this.retrieveFromStorage()},n.prototype.vocab=function(t){var e=this,i=this.config||{};return t.replace(/{([a-z0-9_\-]+)}/gi,function(t,n){return e.vocab(i["vocab_"+n]||"")})},e.exports=n},{"es5-basic-shim":3,store:6}],8:[function(t,e,i){var n=t("domify"),r=t("rivets"),s=t("store"),o=t("./VisitedPages"),a=t("./visitedPagesController"),l=t("../view/visited-pages.html");e.exports=function(){var t=new o,e=function(t){return $("<textarea/>").html(t).text()},i={};return i.configure=function(i){i=e(JSON.stringify(i)),i=$.parseJSON(i);var s=9;if(void 0!==i.max_pages&&(s=i.max_pages),i=$.extend({page_content_container:"article",selector_page_title:["head title"],selector_category_name:[".breadcrumb>li:nth-last-child(2)>a"],selector_images:["img"],vocab_title:"Visited Pages",vocab_lede:"The following links are the virtual breadcrumbs marking the "+s+" most recent pages you have visited in "+location.hostname+". If you want to remember a specific page forever click the pin in the top right corner and we will be sure not to replace it.",vocab_pin:"Pin this url",vocab_unpin:"Unpin this url",image_min_width:200,image_min_height:200,max_pages:s,max_title_length:!1,exclude_current_page:!1},i||{}),t.config=i,$pageContentContainer=$(i.page_content_container),$pageContentContainer.length&&($pageContentContainer=$pageContentContainer.first(),l=t.vocab(l),templateElement=n(l),r.bind(templateElement,{visitedPages:t,controller:a}),$pageContentContainer[0].appendChild(templateElement)),i.exclude_current_page===!1||$pageContentContainer.length>1){for(var o=window.location.pathname+location.search,u="",h="",p="",c=0;c<i.selector_page_title.length;c++)if($(i.selector_page_title[c]).length){u=$(i.selector_page_title[c]).first().html(),i.max_title_length>0&&u.length>i.max_title_length&&(u=u.substring(0,i.max_title_length)+"…");break}for(var c=0;c<i.selector_category_name.length;c++)$(i.selector_category_name[c]).length&&(h=$(i.selector_category_name[c]).first().html());for(var c=0;c<i.selector_images.length;c++)$(i.selector_images[c]).length&&$(i.selector_images[c]).first().attr("src")&&(p='background-image: url("'+$(i.selector_images[c]).first().attr("src")+'");');var d={url:o,title:u,categoryName:h,imageUrl:p};if(""!==d.title&&""!==d.url){var f=t.exists("pinned",d);-1!==f?t.set("pinned",d,f):t.add("pages",d)}}},i.retrieveFromStorage=function(){return t.retrieveFromStorage()},i.reset=function(){t.clearStorage()},i.localStorageEnabled=function(){return!!s.enabled},i}},{"../view/visited-pages.html":10,"./VisitedPages":7,"./visitedPagesController":9,domify:2,rivets:4,store:6}],9:[function(t,e,i){"use strict";var n={pin:function(t,e){t.stopPropagation();var i=e.visitedPages.findItem("pages",e.item.url);-1!==i&&e.visitedPages.remove("pages",i),e.visitedPages.add("pinned",e.item);var n=$(t.target);n.find(".visited-page__icon-fallback").html(e.visitedPages.config.vocab_unpin);var r=function(t){e.controller.unpin(t,e)};n.on("click",r),n.closest(".visited-page",".visited-pages__list").addClass("is-pinned")},unpin:function(t,e){t.stopPropagation();var i=e.visitedPages.findItem("pinned",e.item.url);-1!==i&&e.visitedPages.remove("pinned",i),e.visitedPages.add("pages",e.item);var n=$(t.target);n.find(".visited-page__icon-fallback").html(e.visitedPages.config.vocab_pin);var r=function(t){e.controller.pin(t,e)};n.on("click",r),n.closest(".visited-page",".visited-pages__list").removeClass("is-pinned")}};e.exports=n},{}],10:[function(t,e,i){e.exports='<ol class="list visited-pages__list"><li class="list__item" data-rv-each-item="visitedPages.pinned"><div class="visited-page is-pinned"><button class="visited-page__toggle" data-rv-on-click="controller.unpin"><div class="visited-page__toggle-icon"></div><span class="visited-page__icon-fallback">{unpin}</span></button><a data-rv-href="item.url" class="visited-page__link"><div class="visited-page__content"><h3 class="visited-page__heading" data-rv-text="item.title"></h3><p class="visited-page__category" data-rv-hide="item.categoryName | empty" data-rv-text="item.categoryName"></p></div><div class="visited-page__image" data-rv-hide="item.imageUrl | empty" data-rv-style="item.imageUrl"></div></a></div></li><li class="list__item" data-rv-each-item="visitedPages.pages"><div class="visited-page"><button class="visited-page__toggle" data-rv-on-click="controller.pin"><div class="visited-page__toggle-icon"></div><span class="visited-page__icon-fallback">{pin}</span></button><a data-rv-href="item.url" class="visited-page__link"><div class="visited-page__content"><h3 class="visited-page__heading" data-rv-text="item.title"></h3><p class="visited-page__category" data-rv-hide="item.categoryName | empty" data-rv-text="item.categoryName"></p></div><div class="visited-page__image" data-rv-hide="item.imageUrl | empty" data-rv-style="item.imageUrl"></div></a></div></li><li class="list__item" data-rv-each-item="visitedPages.pages | calculateNoOfPlaceholders visitedPages.pinned visitedPages.config.max_pages"><div class="visited-page visited-page--placeholder"><div></div></div></li></ol>'},{}]},{},[1]);